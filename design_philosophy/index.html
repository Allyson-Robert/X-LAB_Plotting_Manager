<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://allyson-robert.github.io/X-LAB_Plotting_Manager/design_philosophy/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>How to think about this application? - X-LAB Plotting Manager</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "How to think about this application?";
        var mkdocs_page_input_path = "design_philosophy.md";
        var mkdocs_page_url = "/X-LAB_Plotting_Manager/design_philosophy/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> X-LAB Plotting Manager
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Guide</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../installing/">Installing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../getting_started/">Getting Started</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">How to think about this application?</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#some-general-notes-to-consider">Some general notes to consider</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#modular-reusable-components-with-single-responsibility">Modular, Reusable Components with Single Responsibility</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#abstract-base-classes-abcs-vs-core-implementations">Abstract Base Classes (ABCs) vs Core Implementations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#a-bidirectional-way-of-thinking">A Bidirectional Way of Thinking</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#you-already-have-a-working-default-implementation">You Already Have a Working Default Implementation</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#building-your-own-implementation-a-scientists-workflow">Building Your Own Implementation: A Scientist’s Workflow</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#step-1-understand-your-data">Step 1 — Understand Your Data</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-2-map-raw-data-to-observables-using-a-datacore-subclass">Step 2 — Map Raw Data to Observables Using a DataCore Subclass</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#your-thought-process-might-look-like-this">Your Thought Process Might Look Like This:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-3-decide-what-derived-quantities-you-need-and-let-dataprocessorcore-subclasses-compute-them">Step 3 — Decide What Derived Quantities You Need And Let DataProcessorCore Subclasses Compute them</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-4-think-about-the-visualisations-you-want">Step 4 — Think About the Visualisations You Want</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-5-build-the-deviceworker-the-orchestrator">Step 5 — Build the DeviceWorker (The Orchestrator)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-6-provide-a-widget-for-user-options">Step 6 — Provide a Widget for User Options</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#step-7-choose-or-reuse-a-plotter">Step 7 — Choose or Reuse a Plotter</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#understanding-the-dataset">Understanding the Dataset</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#final-thoughts">Final Thoughts</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#use-core-classes-when-possible">Use Core Classes When Possible</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#deviate-only-when-necessary">Deviate Only When Necessary</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../implementing_contracts/">How do I implement contracts?</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../datasets/">What are datasets</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../logging/">Logging & debugging</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../api/gui/windows_and_dialogs/">GUI - Windows</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../api/gui/plot_manager/">GUI - Plot Manager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../api/gui/utils/">GUI - Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Contracts - Data</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../api/contracts/data/data_types/">Data Types</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../api/contracts/data/data_processors/">Data Processors</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Contracts - Plotters</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../api/contracts/plotters/plotter/">Plotter</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../api/contracts/plotters/plotter_options/">PlotterOptions</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../api/contracts/devices/">Contracts - Devices</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../api/contracts/file_readers/">Contracts - File Readers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../api/contracts/observable/">Contracts - Observable</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../api/utils/class_utils/">Utils - Class Utils</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../api/utils/errors/">Utils - Errors</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../api/utils/logging/">Utils - Logging</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../api/utils/others/">Utils - Others</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../api/dataset_manager/">DataSet</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">X-LAB Plotting Manager</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Guide</li>
      <li class="breadcrumb-item active">How to think about this application?</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/Allyson-Robert/X-LAB_Plotting_Manager/edit/master/docs/design_philosophy.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="how-to-think-about-this-application">How to think about this application?</h1>
<h2 id="some-general-notes-to-consider">Some general notes to consider</h2>
<h3 id="modular-reusable-components-with-single-responsibility">Modular, Reusable Components with Single Responsibility</h3>
<p>The goal of the X‑LAB plotting framework is to help you turn raw scientific measurements into meaningful, 
reusable visualisations with minimal effort. The most important philosophy behind the entire system is <strong>reuse</strong>. 
This application is best integrated in your workflow by remembering to approach it from a 
modular angle.
You should always ask yourself:</p>
<blockquote>
<p><strong>“Can I reuse something that already exists?”</strong></p>
</blockquote>
<p>Because over time your lab will accumulate:
- reusable <em>readers</em>, 
- reusable <em>DataCore</em>, <em>DataProcessorCore</em> and <em>Plotter</em> subclasses,
- portable <em>DeviceWorkerCore</em> subclasses with their widgets</p>
<p>This reuse-first mindset ensures that even complex analyses remain understandable and maintainable.
It is also further enhanced by the concept of single responsibility, which is core to the structure 
defined by the contracts. 
Keep this single responsibility and modularity in mind when extending this application to suit your needs.</p>
<h3 id="abstract-base-classes-abcs-vs-core-implementations">Abstract Base Classes (ABCs) vs Core Implementations</h3>
<p>The framework exposes four architectural building blocks:</p>
<ul>
<li><code>Data</code>  </li>
<li><code>DataProcessor</code>  </li>
<li><code>DeviceWorker</code>  </li>
<li><code>Plotter</code>  </li>
</ul>
<p>Each defines <strong>what a new implementation must provide</strong>.<br />
On top of these, the framework offers recommended <strong>Core versions</strong>:</p>
<ul>
<li><code>DataCore</code>  </li>
<li><code>DataProcessorCore</code>  </li>
<li><code>DeviceWorkerCore</code>  </li>
</ul>
<p>The Core versions implement conventions and mechanisms encouraging structure and single-responsibility programming.
You are free to implement the ABCs directly, but using the Core classes requires far less code as it provides a foundational interaction between the various components of this application.</p>
<h3 id="a-bidirectional-way-of-thinking">A Bidirectional Way of Thinking</h3>
<p>Developing a new implementation is not a bottom‑up process. It is <em>bidirectional</em>:</p>
<ul>
<li><strong>Data → Observables → Processing → Derived quantities</strong>  </li>
<li><strong>Device → Visualisations → Plot functions → Plotters</strong></li>
</ul>
<p>As a scientist, you will switch constantly between these two directions:</p>
<ul>
<li>What does my data contain? </li>
<li>What can I read from the file? </li>
<li>Which quantities can I derive from it?  </li>
</ul>
<p>and</p>
<ul>
<li>What do I want to visualise?</li>
<li>How do I want to visualise it?</li>
<li>What must I access to show this?</li>
</ul>
<p>This interplay is what shapes your implementation.</p>
<h3 id="you-already-have-a-working-default-implementation">You Already Have a Working Default Implementation</h3>
<p>If you installed the default module, you should already be able to:</p>
<ul>
<li>create a dataset, pointing to two‑column files (e.g. voltage–current, time–signal, wavelength–intensity),  </li>
<li>and plot those directly from the GUI.</li>
</ul>
<p>This documentation helps you go beyond that—building your own scientific visualisation workflows.</p>
<hr />
<h2 id="building-your-own-implementation-a-scientists-workflow">Building Your Own Implementation: A Scientist’s Workflow</h2>
<p>This section walks through the thought patterns you should follow when designing new analysis tools in the X‑LAB framework. It mirrors the real reasoning process I typically use in the lab.</p>
<hr />
<h3 id="step-1-understand-your-data">Step 1 — Understand Your Data</h3>
<p>Before coding anything, inspect your raw files, what do they look like?</p>
<ul>
<li>Are these columnar text files or maybe matrices encoding an image?</li>
<li>Do they contain headers, timestamps or metadata?  </li>
<li>Which quantities are present and are they labelled??  </li>
<li>What units are used?</li>
</ul>
<p>And most importantly: Can the raw file already be successfully loaded by an existing file reader?</p>
<p><strong>Examples</strong>
- An IV curve: Voltage (V) vs Current (A)<br />
- Time‑dependent signal: Time (s) vs intensity<br />
- LBIC: a 2D grid of currents<br />
- Spectra: wavelength vs counts<br />
- Temperature measurements: timestamp vs sensor value  </p>
<hr />
<h3 id="step-2-map-raw-data-to-observables-using-a-datacore-subclass">Step 2 — Map Raw Data to <em>Observables</em> Using a DataCore Subclass</h3>
<p>Subclassing <code>DataCore</code> lets you define:</p>
<ul>
<li>which file reader is used to import the raw data  </li>
<li>how observables map to the general/agnostic structure returned by the reader </li>
<li>what each observable’s units are  </li>
<li>optional extraction of timestamps  </li>
<li>storage of raw values in the standard observable dictionary structure</li>
</ul>
<h3 id="your-thought-process-might-look-like-this">Your Thought Process Might Look Like This:</h3>
<ul>
<li>“This file has two columns → I can reuse the csv reader I already have.”  </li>
<li>“Column 0 is voltage → observable <code>voltage</code>, units <code>V</code>.”  </li>
<li>“Column 1 is current → observable <code>current</code>, units <code>A</code>.”  </li>
<li>“I need the measurement timestamp → extract it from the filename or from the metadata.”  </li>
</ul>
<p>This gives the processor a clean, structured interface.</p>
<hr />
<h3 id="step-3-decide-what-derived-quantities-you-need-and-let-dataprocessorcore-subclasses-compute-them">Step 3 — Decide What Derived Quantities You Need And Let DataProcessorCore Subclasses Compute them</h3>
<p>Once raw observables exist, you think:</p>
<blockquote>
<p><strong>“What quantities do I need from this data? Is the raw data enough or can I compute any derived quantities”</strong></p>
</blockquote>
<p><strong>Examples</strong>
- IV: Aside from current-voltage curve one might want to know the open-circuit voltage, short-circuit current, fill factor, and maximum power point<br />
- Light-beam Induced Current scans give you axes and a current map, but you might want to extract a profile or look at the distribution of currents.
- Time‑dependent IV: power conversion over time<br />
- Spectra: peak wavelength, full width at half maximum, integrated intensity  </p>
<p>A <code>DataProcessorCore</code> subclass allows you to add processing functions:</p>
<pre><code class="language-python">self._processing_functions = {
    &quot;isc&quot;: self.compute_short_circuit_current,
    &quot;voc&quot;: self.compute_open_circuit_voltage,
    &quot;pce&quot;: self.compute_power_conversion_efficiency,
}
</code></pre>
<p>The processor:
- requests raw data from <code>Data</code> subclasses
- computes derived quantities when needed<br />
- returns them in the same structured observable format<br />
- caches results for efficiency  </p>
<p>Your scientific reasoning—“what do I want to calculate?”—maps directly onto this class.</p>
<hr />
<h3 id="step-4-think-about-the-visualisations-you-want">Step 4 — Think About the Visualisations You Want</h3>
<p>This is where the <em>bidirectional</em> aspect of the implementation starts becoming important:</p>
<blockquote>
<p><strong>“Given the data and derived observables, what plots do I want to be able to produce?”</strong></p>
</blockquote>
<p>One dataset → many plots.</p>
<p><strong>Examples</strong></p>
<p><strong>IV Device</strong>
- Raw IV curve<br />
- Efficiency extracted parameters<br />
- Time dependent behaviour</p>
<p><strong>LBIC Device</strong>
- Heatmap of current density<br />
- Histogram of pixel values<br />
- Profiles along x and y  </p>
<p>Each of these can be obtained from the same basic data files but must be handled differently, usually by a dedicated <code>DeviceWorker</code> and <code>DataProcessor</code>, to produce the desired visualisation.
Each <code>DeviceWorker</code> subclass is therefore coupled to a <code>DataProcessor</code> and <code>Data</code> class and plots becomes dedicated <code>plot_{name}</code> method inside your DeviceWorker subclass.
These names also populate the GUI’s “plot selector”, so choosing clear names helps users understand what each plot does.</p>
<hr />
<h3 id="step-5-build-the-deviceworker-the-orchestrator">Step 5 — Build the DeviceWorker (The Orchestrator)</h3>
<p>A DeviceWorker does four things:</p>
<ol>
<li>Sets the <code>data_type</code> (your DataCore subclass) and <code>processor_type</code> (your Processor subclass) during initialisation </li>
<li>Defines multiple <strong>plot functions</strong>, one for each plot type (named <code>plot_{name}</code> as these are automatically detected by the GUI)  </li>
<li>Instantiates the needed <strong>Plotter</strong> inside each plot function, passing options and processors to it as needed.</li>
</ol>
<p><strong>Your Internal Monologue Might Be</strong>:
- “This LBIC device should expose: image, histogram, and profile plots.”<br />
- “Each is a separate plot function.”<br />
- “Each plot function will instantiate the appropriate plotter.”<br />
- “The plotter only gets processors and options—it never reads files directly.”  </p>
<p>Workers never implement scientific logic and plotters should never need to know the desired observables.
It is the task of the <code>DeviceWorker</code> to tell the plotter which observables to request from the <code>DataProcessor</code>.
This ensures plotters stay reusable between devices and measurement types.
In short they connect data → processors → plotters.</p>
<p>Add the new worker class name to <code>implementations.devices.__init__.py</code>.</p>
<pre><code>from . import workers

__all__ = [
    &quot;Generic&quot;,
    &quot;NewWorker
]
</code></pre>
<hr />
<h3 id="step-6-provide-a-widget-for-user-options">Step 6 — Provide a Widget for User Options</h3>
<p>Each device needs its own widget, these are searched for by the GUI.<br />
It serves as the user’s scientific control panel.</p>
<p><strong>Thought Process</strong>
- “Should the user choose the axis?” → combo box with <code>option_alias="x_axis"</code><br />
- “Should they toggle log‑scale?” → check box with <code>option_alias="log_y"</code><br />
- “Do they need a threshold?” → spin box with <code>option_alias="threshold"</code>  </p>
<p>The GUI automatically gathers these into a <code>PlotterOptions</code> object and passes it to the worker, which hands it over to the plotter to read and use if appropriate.</p>
<p>This keeps plotters GUI‑independent.</p>
<p>You can build widgets using:
- Qt Designer (recommended)<br />
- A simple XML template you can copy and edit  </p>
<hr />
<h3 id="step-7-choose-or-reuse-a-plotter">Step 7 — Choose or Reuse a Plotter</h3>
<p>Plotters turn processed data into visuals.<br />
They should be as dumb and reusable as possible.</p>
<p>Typical plotters include:
- ScatterPlotter<br />
- HeatmapPlotter<br />
- HistogramPlotter </p>
<p>If your visualisation matches any of these → <strong>reuse</strong>.</p>
<p>Only create a new plotter when the visualisation is fundamentally different.
Note that <code>Plotters</code> don’t maintain state between plots, they are instantiated by the GUI and removed when the plot has been generated.</p>
<hr />
<h2 id="understanding-the-dataset">Understanding the Dataset</h2>
<p>These datasets are fundamental to the GUI and are the main reason everything is interoperable.
They can be created using the data creation window, are rebuilt when selecting files from any set to plot, and are used by all Cores to know where to find data.
But one might wonder what they are, in short they are small metadata files containing:</p>
<ul>
<li>labelled paths to raw measurement files,  </li>
<li>optional colours or other needed metadata,  </li>
<li>an experiment reference date,</li>
</ul>
<p><strong>Raw data is never modified, overwritten, or copied.</strong><br />
It stays wherever <em>you</em> keep it—your folder structure, your naming scheme, your archive.</p>
<p>A dataset is just a <strong>pointer + metadata</strong>.<br />
It allows the worker to collect the correct files and instantiate a processor for each.</p>
<p>This separation makes your workflow repeatable and safe.
For more details see the <a href="../datasets/">dataset page</a>.</p>
<hr />
<h2 id="final-thoughts">Final Thoughts</h2>
<h3 id="use-core-classes-when-possible">Use Core Classes When Possible</h3>
<p>They:
- implement standard observable format<br />
- implement processing‑function patterns<br />
- implement multi‑file handling<br />
- implement worker threading<br />
- integrate cleanly with the GUI  </p>
<p>Using them means you only implement the parts that matter scientifically.</p>
<h3 id="deviate-only-when-necessary">Deviate Only When Necessary</h3>
<p>If your data or workflow doesn’t fit the model:
- you can use the ABCs directly<br />
- but then <strong>you</strong> must ensure compatibility<br />
- plotters cannot assume Core behavior<br />
- you must follow observable formatting yourself  </p>
<p>This is an advanced path—only use it when the science requires it.</p>
<p>By following this workflow‑oriented design approach, your implementation will naturally fit the X‑LAB ecosystem:</p>
<ul>
<li>raw data → observables → derived quantities  </li>
<li>datasets pointing to files + metadata  </li>
<li>devices offering multiple scientific workflows  </li>
<li>widgets capturing user intent  </li>
<li>plotters turning processors into visualisations  </li>
</ul>
<p>And throughout the entire process, remember:</p>
<blockquote>
<p><strong>Always reuse existing readers, processors, plotters, widgets, and devices whenever possible.</strong><br />
<strong>Subclass only when needed.</strong><br />
<strong>Implement the ABCs only when absolutely necessary.</strong></p>
</blockquote>
<p>This is the mindset that keeps your code clean, scientific, powerful—and future‑proof.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../getting_started/" class="btn btn-neutral float-left" title="Getting Started"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../implementing_contracts/" class="btn btn-neutral float-right" title="How do I implement contracts?">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/Allyson-Robert/X-LAB_Plotting_Manager" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../getting_started/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../implementing_contracts/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
